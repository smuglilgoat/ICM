fileName = 'Demosaic_1.bmp';
rgbImage = imread(fileName);
whos rgbImage
imshow(rgbImage,[])
title("RAW RGB Image")

Image_CFA = bayer(rgbImage);


function Image_CFA = bayer(input_RGB)
    [rows, columns, numberOfColorChannels] = size(input_RGB);
    outputImage = input_RGB; % Initialize
    for col = 1 : 2 : columns - 1
        for row = 1 : 2 : rows - 1
            outputImage(row, col, [1 3]) = 0;
            outputImage(row, col, [2 3]) = 0;
            outputImage(row, col, [1 2]) = 0;
            outputImage(row, col, [1 3]) = 0;
        end
    end
    Image_CFA = outputImage;
end